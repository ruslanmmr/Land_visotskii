{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","landingScroll","popup","autoBlockHeight","checkboxes","publications","videos","presentation","awards","custompug","clients","cover","mask","resize","innerWidth","cursorcolorVar","cursorwidthVar","cursorborderVar","cursorborderradiusVar","zindexVar","each","th","this","height","tw","width","im","ih","addClass","removeClass","on","find","is","nav","flag","$navButton","$navClose","$nav","navState","hide","fadeIn","scrollLock","hasClass","e","preventDefault","show","window","$body","$link","scroll","window_top","scrollTop","div_1","attr","length","offset","top","div_top","blockHeight","event","id","animate","setTimeout","effect","effectTime","$slider","visibleOnly","slick","currentSlide","nextSlide","parents","text","slideCount","infinite","arrows","responsive","settings","adaptiveHeight","dots","variableWidth","speed","slidesToShow","slidesToScroll","breakpoint","fancybox","loop","backFocus","autoFocus","smallBtn","css","$block","h_block","parseInt","mh","fade"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  landingScroll();\r\n  popup();\r\n  autoBlockHeight();\r\n  checkboxes();\r\n  publications();\r\n  videos();\r\n  presentation();\r\n  awards();\r\n  custompug();\r\n  clients();\r\n  cover();\r\n  nav();\r\n  $(\".input_phone\").mask(\"+7 (999) 999-99-99\");\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n    //scroll-styling\r\n    cursorcolorVar = \"#fff\",\r\n    cursorwidthVar = \"7px\",\r\n    cursorborderVar = \"0\",\r\n    cursorborderradiusVar = \"0\",\r\n    zindexVar = [100],\r\n    bouncescrollVar = false;\r\n    //\r\n\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function() {\r\n    //set size\r\n    var th = $(this).height(),//box height\r\n        tw = $(this).width(),//box width\r\n        im = $(this).children('img'),//image\r\n        ih = im.height(),\r\n        iw = im.width();\r\n    if ((tw/th) >= (iw/ih)) {\r\n        im.addClass('ww').removeClass('wh');\r\n    } else {\r\n        im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n//checkboxes\r\nfunction checkboxes() {\r\n  $('.checkbox__label').on('click', function() {\r\n    if ($(this).find('input').is(':checked')) {\r\n      $(this).addClass('checkbox__label_checked');\r\n    } else {\r\n      $(this).removeClass('checkbox__label_checked');\r\n    }\r\n  })\r\n}\r\n//nav\r\nfunction nav() {\r\n  var $navButton = $('.mobile-button'),\r\n    $navClose = $('.nav-close'),\r\n    $nav = $('.header__content'),\r\n    flag;\r\n\r\n  $navButton.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.toggleClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $navClose.on('click', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if ($nav.hasClass('header__content_visible')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $navButton.addClass('mobile-button_active');\r\n      $nav.fadeIn(300);\r\n    } else {\r\n      scrollLock.show($(\"body\"));\r\n      $navButton.removeClass('mobile-button_active');\r\n      $nav.fadeOut(300);\r\n    }\r\n  }\r\n\r\n  $(window).resize(function () {\r\n    if (innerWidth > 576) {\r\n      if(flag) {\r\n        $nav.addClass('header__content_visible').show();\r\n        navState();\r\n        scrollLock.show($(\"body\"));\r\n        flag = false;\r\n      }\r\n    } else {\r\n      if(!flag) {\r\n        $nav.removeClass('header__content_visible').hide();\r\n        navState();\r\n        scrollLock.show($(\"body\"));\r\n        flag = true;\r\n      }\r\n    }\r\n  });\r\n}\r\n//scroll\r\nfunction landingScroll() {\r\n  var $body = $(\"body\"),\r\n      $link = $('.navigation__link')\r\n\r\n  function scroll() {\r\n    if($body.hasClass(\"in-scroll\")) {} else {\r\n      $link.each(function () {\r\n        var window_top = $(window).scrollTop(),\r\n            div_1 = $(this).attr('href');\r\n        if ($(div_1).length > 0) {\r\n          var div_top = $(div_1).offset().top,\r\n              blockHeight = $(div_1).height();\r\n          if (window_top >= div_top && window_top < div_top + blockHeight){\r\n            $link.removeClass('navigation__link_active');\r\n            $('a[href=\"'+div_1+'\"]').addClass('navigation__link_active');\r\n          }\r\n          else {\r\n            $('a[href=\"'+div_1+'\"]').removeClass('navigation__link_active');\r\n          };\r\n        } \r\n      });\r\n    }\r\n  }\r\n\r\n  scroll();\r\n  $(window).scroll(function(){\r\n    scroll();\r\n  });\r\n\r\n  $link.on('click', function (event) {\r\n    var id  = $(this).attr('href'),\r\n        top = $(id).offset().top;\r\n    \r\n    event.preventDefault();\r\n\r\n    $('body,html').animate({scrollTop: top}, 400);\r\n      $body.addClass(\"in-scroll\");\r\n      setTimeout(function() {\r\n        $body.removeClass(\"in-scroll\");\r\n      }, 400)\r\n  })\r\n}\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    //threshold: '500',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\nfunction publications() {\r\n  var $slider = $('.publications__slider');\r\n  \r\n  $slider.on('init reInit afterChange', function(event, slick, currentSlide, nextSlide){\r\n    //currentSlide is undefined on init -- set it to 0 in this case (currentSlide is 0 based)\r\n    $(this).parents('.slider-section').find('.slide-count__current').text((currentSlide ? currentSlide : 0) + 1);\r\n    $(this).parents('.slider-section').find('.slide-count__all').text(slick.slideCount);\r\n    lazy();\r\n  });\r\n\r\n  $slider.slick({\r\n    infinite: false,\r\n    dots: false,\r\n    arrows: false,\r\n    speed: 400,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    responsive: [\r\n      {\r\n        breakpoint: 576,\r\n        settings: {\r\n          adaptiveHeight: true\r\n        }\r\n      }\r\n    ]\r\n    \r\n  });\r\n}\r\n//awards\r\nfunction awards() {\r\n  var $slider = $('.awards__slider');\r\n\r\n  $slider.on('init reInit afterChange', function(event, slick, currentSlide, nextSlide){\r\n    //currentSlide is undefined on init -- set it to 0 in this case (currentSlide is 0 based)\r\n    $(this).parents('.slider-section').find('.slide-count__current').text((currentSlide ? currentSlide : 0) + 1);\r\n    $(this).parents('.slider-section').find('.slide-count__all').text(slick.slideCount);\r\n    lazy();\r\n  });\r\n\r\n  $slider.slick({\r\n    infinite: false,\r\n    dots: false,\r\n    arrows: false,\r\n    variableWidth: true,\r\n    speed: 400,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    responsive: [\r\n      {\r\n        breakpoint: 768,\r\n        settings: {\r\n          variableWidth: false,\r\n          slidesToShow: 2\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 576,\r\n        settings: {\r\n          variableWidth: false,\r\n          slidesToShow: 1\r\n        }\r\n      }\r\n    ] \r\n  });\r\n}\r\n//popup\r\nfunction popup() {\r\n  $(\"[data-fancybox]\").fancybox({\r\n    loop: true,\r\n    backFocus : false\r\n  });\r\n  $(\".modal\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false\r\n  });\r\n}\r\n//videos\r\nfunction videos() {\r\n  var $slider = $('.videos__slider'),\r\n      top = $('.videos-slide__video').height() / 2;\r\n      \r\n  $slider.each(function() {\r\n    $(this).on('init reInit afterChange', function(event, slick, currentSlide, nextSlide){\r\n      //currentSlide is undefined on init -- set it to 0 in this case (currentSlide is 0 based)\r\n      $(this).parents('.slider-section').find('.slide-count__current').text((currentSlide ? currentSlide : 0) + 1);\r\n      $(this).parents('.slider-section').find('.slide-count__all').text(slick.slideCount);\r\n      $(this).find('.slick-arrow').css('top', top);\r\n      lazy();\r\n    });\r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: false,\r\n      arrows: true,\r\n      speed: 400,\r\n      slidesToShow: 3,\r\n      slidesToScroll: 1,\r\n      responsive: [\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: 2\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: 2,\r\n            arrows: false\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: 1,\r\n            adaptiveHeight: true\r\n          }\r\n        }\r\n      ] \r\n    });\r\n  })\r\n  $(window).resize(function () {\r\n    top = $('.videos-slide__video').height() / 2;\r\n    $slider.find('.slick-arrow').css('top', top);\r\n  });\r\n}\r\n//blocks\r\nfunction autoBlockHeight() {\r\n  resize();\r\n  $(window).resize(function () {\r\n    resize();\r\n  });\r\n\r\n  function resize() {\r\n    var mh = 0,\r\n    $block = $(\".project-block__container\");\r\n\r\n    $block.css('height', 'auto');\r\n    $block.each(function () {\r\n      var h_block = parseInt($(this).height());\r\n      if(h_block > mh) {\r\n        mh = h_block;\r\n      };\r\n    });\r\n    $block.height(mh);\r\n  }\r\n}\r\n//custom pug\r\nfunction custompug() {\r\n  $('.slick-next').on('click', function() {\r\n    $(this).parents('.slider-section').find('.slick-slider').slick('slickNext');\r\n  })\r\n  $('.slick-prev').on('click', function() {\r\n    $(this).parents('.slider-section').find('.slick-slider').slick('slickPrev');\r\n  })\r\n}\r\n//presentation\r\nfunction presentation() {\r\n  var $slider = $('.presentation__slider');\r\n\r\n  $slider.slick({\r\n    infinite: true,\r\n    dots: false,\r\n    arrows: false,\r\n    speed: 400,\r\n    fade: true,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    responsive: [\r\n      {\r\n        breakpoint: 576,\r\n        settings: {\r\n          adaptiveHeight: true\r\n        }\r\n      }\r\n    ]\r\n  });\r\n}\r\n//clients\r\nfunction clients() {\r\n  var $slider = $('.clients__slider');\r\n\r\n  $slider.on('init reInit afterChange', function(event, slick, currentSlide, nextSlide){\r\n    lazy();\r\n  })\r\n\r\n  $slider.slick({\r\n    infinite: false,\r\n    dots: false,\r\n    arrows: false,\r\n    speed: 400,\r\n    slidesToShow: 5,\r\n    slidesToScroll: 5,\r\n    responsive: [\r\n      {\r\n        breakpoint: 1200,\r\n        settings: {\r\n          slidesToShow: 4,\r\n          slidesToScroll: 4\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 992,\r\n        settings: {\r\n          slidesToShow: 3,\r\n          slidesToScroll: 3\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 768,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          slidesToScroll: 2\r\n        }\r\n      }\r\n    ]\r\n  });\r\n}"]}