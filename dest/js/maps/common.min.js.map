{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","nav","popup","autoBlockHeight","landingScroll","checkboxes","publications","mask","resize","innerWidth","cursorcolorVar","cursorwidthVar","cursorborderVar","cursorborderradiusVar","zindexVar","cover","each","th","this","height","tw","width","im","ih","addClass","removeClass","on","find","is","$navButton","$navClose","$nav","navState","hasClass","scrollLock","hide","fadeIn","flag","e","preventDefault","fadeOut","show","window","$body","$link","scroll","window_top","scrollTop","div_1","attr","length","offset","top","div_top","blockHeight","event","id","animate","setTimeout","visibleOnly","threshold","effect","effectTime","slick","currentSlide","nextSlide","siblings","text","slideCount","console","log","$slider","infinite","slidesToShow","dots","prevArrow","nextArrow","margin","block","css","row","title","fancybox","loop","autoFocus","smallBtn","touch","arrows","mh","$block","h_block","parseInt","speed","fade","slidesToScroll","presentation","adaptiveHeight"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  nav();\r\n  popup();\r\n  autoBlockHeight();\r\n  landingScroll();\r\n  checkboxes();\r\n  publications();\r\n  presentation();\r\n  $(\".input_phone\").mask(\"+7 (999) 999-99-99\");\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n    //scroll-styling\r\n    cursorcolorVar = \"#fff\",\r\n    cursorwidthVar = \"7px\",\r\n    cursorborderVar = \"0\",\r\n    cursorborderradiusVar = \"0\",\r\n    zindexVar = [100],\r\n    bouncescrollVar = false;\r\n    //\r\n\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function() {\r\n    //set size\r\n    var th = $(this).height(),//box height\r\n        tw = $(this).width(),//box width\r\n        im = $(this).children('img'),//image\r\n        ih = im.height(),\r\n        iw = im.width();\r\n    if ((tw/th) >= (iw/ih)) {\r\n        im.addClass('ww').removeClass('wh');\r\n    } else {\r\n        im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n//checkboxes\r\nfunction checkboxes() {\r\n  $('.checkbox__label').on('click', function() {\r\n    if ($(this).find('input').is(':checked')) {\r\n      $(this).addClass('checkbox__label_checked');\r\n    } else {\r\n      $(this).removeClass('checkbox__label_checked');\r\n    }\r\n  })\r\n}\r\n//nav\r\nfunction nav() {\r\n  var $navButton = $('.mobile-button'),\r\n    $navClose = $('.nav-close')\r\n    $nav = $('.header__content'),\r\n    flag;\r\n\r\n  $navButton.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.toggleClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $navClose.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if ($nav.hasClass('header__content_visible')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $navButton.addClass('mobile-button_active');\r\n      $nav.fadeIn(300);\r\n    } else {\r\n      scrollLock.show($(\"body\"));\r\n      $navButton.removeClass('mobile-button_active');\r\n      $nav.fadeOut(300);\r\n    }\r\n  }\r\n\r\n  $(window).resize(function () {\r\n    if (innerWidth > 576) {\r\n      if(flag) {\r\n        $nav.addClass('header__content_visible').show();\r\n        navState();\r\n        scrollLock.show($(\"body\"));\r\n        flag = false;\r\n      }\r\n    } else {\r\n      if(!flag) {\r\n        $nav.removeClass('header__content_visible').hide();\r\n        navState();\r\n        scrollLock.show($(\"body\"));\r\n        flag = true;\r\n      }\r\n    }\r\n  });\r\n}\r\n//scroll\r\nfunction landingScroll() {\r\n  var $body = $(\"body\"),\r\n      $link = $('.navigation__link')\r\n\r\n  function scroll() {\r\n    if($body.hasClass(\"in-scroll\")) {} else {\r\n      $link.each(function () {\r\n        var window_top = $(window).scrollTop(),\r\n            div_1 = $(this).attr('href');\r\n        if ($(div_1).length > 0) {\r\n          var div_top = $(div_1).offset().top,\r\n              blockHeight = $(div_1).height();\r\n          if (window_top >= div_top && window_top < div_top + blockHeight){\r\n            $link.removeClass('navigation__link_active');\r\n            $('a[href=\"'+div_1+'\"]').addClass('navigation__link_active');\r\n          }\r\n          else {\r\n            $('a[href=\"'+div_1+'\"]').removeClass('navigation__link_active');\r\n          };\r\n        } \r\n      });\r\n    }\r\n  }\r\n\r\n  scroll();\r\n  $(window).scroll(function(){\r\n    scroll();\r\n  });\r\n\r\n  $link.on('click', function (event) {\r\n    var id  = $(this).attr('href'),\r\n        top = $(id).offset().top;\r\n    \r\n    event.preventDefault();\r\n\r\n    $('body,html').animate({scrollTop: top}, 400);\r\n      $body.addClass(\"in-scroll\");\r\n      setTimeout(function() {\r\n        $body.removeClass(\"in-scroll\");\r\n      }, 400)\r\n  })\r\n}\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: false,\r\n    threshold: '500',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\nfunction publications() {\r\n  var $slider = $('.publications__slider');\r\n  \r\n  $slider.on('init reInit afterChange', function(event, slick, currentSlide, nextSlide){\r\n    //currentSlide is undefined on init -- set it to 0 in this case (currentSlide is 0 based)\r\n    $(this).siblings().find('.slide-count__current').text((currentSlide ? currentSlide : 0) + 1);\r\n    $(this).siblings().find('.slide-count__all').text(slick.slideCount);\r\n    console.log(slick.slideCount)\r\n  });\r\n\r\n  $slider.slick({\r\n    infinite: false,\r\n    dots: false,\r\n    arrows: true,\r\n    speed: 400,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    prevArrow: '.publications__prev',\r\n    nextArrow: '.publications__next'\r\n    \r\n  });\r\n}\r\n//gallery\r\nfunction gallery() {\r\n  var row = $('.gallery__row:not(:first-child)'),\r\n      block = $('.gallery-block'),\r\n      title = $('.gallery-block_title'),\r\n      margin;\r\n\r\n  if(innerWidth>576) {\r\n    block.css('margin-top', '0');\r\n    row.each(function() {\r\n        margin = -($(this).height() / 2);\r\n        $(this).css('margin-top', margin);\r\n    }) \r\n  } else {\r\n    row.css('margin-top', '0');\r\n    block.each(function() {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  }\r\n}\r\n//popup\r\nfunction popup() {\r\n  $(\"[data-fancybox]\").fancybox({\r\n    loop: true\r\n  });\r\n  $(\"[data-fancybox='modal']\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false,\r\n    arrows: false\r\n  });\r\n}\r\n//blocks\r\nfunction autoBlockHeight() {\r\n  resize();\r\n  $(window).resize(function () {\r\n    resize();\r\n  });\r\n\r\n  function resize() {\r\n    var mh = 0,\r\n    $block = $(\".project-block__container\");\r\n\r\n    $block.css('height', 'auto');\r\n    $block.each(function () {\r\n      var h_block = parseInt($(this).height());\r\n      if(h_block > mh) {\r\n        mh = h_block;\r\n      };\r\n    });\r\n    $block.height(mh);\r\n  }\r\n}\r\n\r\n//presentation\r\nfunction presentation() {\r\n  var $slider = $('.presentation__slider');\r\n\r\n  $slider.slick({\r\n    infinite: true,\r\n    dots: false,\r\n    arrows: true,\r\n    speed: 400,\r\n    fade: true,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    prevArrow: '.presentation__prev',\r\n    nextArrow: '.presentation__next',\r\n    responsive: [\r\n      {\r\n        breakpoint: 576,\r\n        settings: {\r\n          adaptiveHeight: true\r\n        }\r\n      }\r\n    ]\r\n  });\r\n}"]}